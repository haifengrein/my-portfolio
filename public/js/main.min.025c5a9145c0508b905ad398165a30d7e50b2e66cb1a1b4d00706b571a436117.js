(()=>{document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector('button[aria-controls="mobile-menu"]'),t=document.getElementById("mobile-menu");if(e&&t){const n=e.querySelector(".fa-bars"),s=e.querySelector(".fa-times");e.addEventListener("click",()=>{const o=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",!o),t.classList.toggle("hidden"),n&&s&&(n.classList.toggle("hidden"),s.classList.toggle("hidden"))})}document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(n){const s=this.getAttribute("href");if(s&&s.length>1){const o=document.querySelector(s);if(o){n.preventDefault();const s=document.querySelector("nav")?.offsetHeight||0,i=o.getBoundingClientRect().top,a=i+window.pageYOffset-s-10;window.scrollTo({top:a,behavior:"smooth"}),e&&t&&!t.classList.contains("hidden")&&e.click()}}})});const n=document.getElementById("toc-nav");if(n){const e=document.querySelectorAll("article h2, article h3, article h4"),t=n.querySelectorAll("a");if(e.length>0&&t.length>0){const s=new IntersectionObserver(e=>{const s=e.filter(e=>e.isIntersecting);if(s.length>0){const o=s[0].target,i=o.id;t.forEach(e=>{e.classList.remove("active")});const e=n.querySelector(`a[href="#${i}"]`);e&&e.classList.add("active")}},{rootMargin:"-80px 0px -80% 0px"});e.forEach(e=>{s.observe(e)})}}document.querySelectorAll("pre").forEach(e=>{if(!e.querySelector("code")||e.querySelector(".copy-code-button"))return;const n=document.createElement("div");n.className="code-block-wrapper",e.parentNode.insertBefore(n,e),n.appendChild(e);const t=document.createElement("button");t.className="copy-code-button",t.textContent="Copy",n.appendChild(t),t.addEventListener("click",()=>{const n=e.querySelector("code").textContent;navigator.clipboard.writeText(n).then(()=>{t.textContent="Copied!",setTimeout(()=>{t.textContent="Copy"},2e3)}).catch(e=>{console.error("Failed to copy code: ",e),t.textContent="Error!",setTimeout(()=>{t.textContent="Copy"},2e3)})})})})})()